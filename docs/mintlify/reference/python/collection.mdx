---
title: "Collection"
---

## Collection Methods

### count

The total number of embeddings added to the database

**Returns:** The total number of embeddings added to the database


### add

Add embeddings to the data store.

<ParamField path="ids" type="Union[str, IDs]" required>
  The ids of the embeddings you wish to add
</ParamField>

<ParamField path="embeddings" type="Optional[Embeddings]">
  The embeddings to add. If None, embeddings will be computed based on the documents or images using the embedding_function set for the Collection. Optional.
</ParamField>

<ParamField path="metadatas" type="Union[Metadata, List[Metadata], None]">
  The metadata to associate with the embeddings. When querying, you can filter on this metadata. Optional.
</ParamField>

<ParamField path="documents" type="Union[str, IDs, None]">
  The documents to associate with the embeddings. Optional.
</ParamField>

<ParamField path="images" type="Optional[Embeddings]">
  The images to associate with the embeddings. Optional.
</ParamField>

<ParamField path="uris" type="Union[str, IDs, None]">
  The uris of the images to associate with the embeddings. Optional.
</ParamField>

**Returns:** None

**Raises:**

- ValueError: If you don't provide either embeddings or documents
- ValueError: If the length of ids, embeddings, metadatas, or documents don't match
- ValueError: If you don't provide an embedding function and don't provide embeddings
- ValueError: If you provide both embeddings and documents
- ValueError: If you provide an id that already exists


### get

Get embeddings and their associate data from the data store. If no ids or where filter is provided returns

all embeddings up to limit starting at offset.

<ParamField path="ids" type="Union[str, IDs, None]">
  The ids of the embeddings to get. Optional.
</ParamField>

<ParamField path="where" type="Optional[Where]">
  A Where type dict used to filter results by. E.g. `\{"$and": [\{"color" : "red"\}, \{"price": \{"$gte": 4.20\}\}]\}`. Optional.
</ParamField>

<ParamField path="limit" type="Optional[int]">
  The number of documents to return. Optional.
</ParamField>

<ParamField path="offset" type="Optional[int]">
  The offset to start returning results from. Useful for paging results with limit. Optional.
</ParamField>

<ParamField path="where_document" type="Optional[Dict[Where, Union[str, List[Dict[Where, Union[str, List[WhereDocument]]]]]]]">
  A WhereDocument type dict used to filter by the documents. E.g. `\{"$contains": "hello"\}`. Optional.
</ParamField>

<ParamField path="include" type="List[Literal[documents, embeddings, metadatas, distances, uris, data]]">
  A list of what to include in the results. Can contain `"embeddings"`, `"metadatas"`, `"documents"`. Ids are always included. Defaults to `["metadatas", "documents"]`. Optional.
</ParamField>

**Returns:** A GetResult object containing the results.


### peek

Get the first few results in the database up to limit

<ParamField path="limit" type="int">
  The number of results to return.
</ParamField>

**Returns:** A GetResult object containing the results.


### query

Get the n_results nearest neighbor embeddings for provided query_embeddings or query_texts.

<ParamField path="query_embeddings" type="Optional[Embeddings]">
  The embeddings to get the closes neighbors of. Optional.
</ParamField>

<ParamField path="query_texts" type="Union[str, IDs, None]">
  The document texts to get the closes neighbors of. Optional.
</ParamField>

<ParamField path="query_images" type="Optional[Embeddings]">
  The images to get the closes neighbors of. Optional.
</ParamField>

<ParamField path="query_uris" type="Union[str, IDs, None]">
  The URIs to be used with data loader. Optional.
</ParamField>

<ParamField path="ids" type="Union[str, IDs, None]">
  A subset of ids to search within. Optional.
</ParamField>

<ParamField path="n_results" type="int">
  The number of neighbors to return for each query_embedding or query_texts. Optional.
</ParamField>

<ParamField path="where" type="Optional[Where]">
  A Where type dict used to filter results by. E.g. `\{"$and": [\{"color" : "red"\}, \{"price": \{"$gte": 4.20\}\}]\}`. Optional.
</ParamField>

<ParamField path="where_document" type="Optional[Dict[Where, Union[str, List[Dict[Where, Union[str, List[WhereDocument]]]]]]]">
  A WhereDocument type dict used to filter by the documents. E.g. `\{"$contains": "hello"\}`. Optional.
</ParamField>

<ParamField path="include" type="List[Literal[documents, embeddings, metadatas, distances, uris, data]]">
  A list of what to include in the results. Can contain `"embeddings"`, `"metadatas"`, `"documents"`, `"distances"`. Ids are always included. Defaults to `["metadatas", "documents", "distances"]`. Optional.
</ParamField>

**Returns:** A QueryResult object containing the results.

**Raises:**

- ValueError: If you don't provide either query_embeddings, query_texts, or query_images
- ValueError: If you provide both query_embeddings and query_texts
- ValueError: If you provide both query_embeddings and query_images
- ValueError: If you provide both query_texts and query_images


### modify

Modify the collection name or metadata

<ParamField path="name" type="Optional[str]">
  The updated name for the collection. Optional.
</ParamField>

<ParamField path="metadata" type="Optional[Dict[str, Any]]">
  The updated metadata for the collection. Optional.
</ParamField>

<ParamField path="configuration" type="Optional[UpdateCollectionConfiguration]" />

**Returns:** None


### update

Update the embeddings, metadatas or documents for provided ids.

<ParamField path="ids" type="Union[str, IDs]" required>
  The ids of the embeddings to update
</ParamField>

<ParamField path="embeddings" type="Optional[Embeddings]">
  The embeddings to update. If None, embeddings will be computed based on the documents or images using the embedding_function set for the Collection. Optional.
</ParamField>

<ParamField path="metadatas" type="Union[Metadata, List[Metadata], None]">
  The metadata to associate with the embeddings. When querying, you can filter on this metadata. Optional.
</ParamField>

<ParamField path="documents" type="Union[str, IDs, None]">
  The documents to associate with the embeddings. Optional.
</ParamField>

<ParamField path="images" type="Optional[Embeddings]">
  The images to associate with the embeddings. Optional.
</ParamField>

<ParamField path="uris" type="Union[str, IDs, None]" />

**Returns:** None


### upsert

Update the embeddings, metadatas or documents for provided ids, or create them if they don't exist.

<ParamField path="ids" type="Union[str, IDs]" required>
  The ids of the embeddings to update
</ParamField>

<ParamField path="embeddings" type="Optional[Embeddings]">
  The embeddings to add. If None, embeddings will be computed based on the documents using the embedding_function set for the Collection. Optional.
</ParamField>

<ParamField path="metadatas" type="Union[Metadata, List[Metadata], None]">
  The metadata to associate with the embeddings. When querying, you can filter on this metadata. Optional.
</ParamField>

<ParamField path="documents" type="Union[str, IDs, None]">
  The documents to associate with the embeddings. Optional.
</ParamField>

<ParamField path="images" type="Optional[Embeddings]" />

<ParamField path="uris" type="Union[str, IDs, None]" />

**Returns:** None


### delete

Delete the embeddings based on ids and/or a where filter

<ParamField path="ids" type="Optional[IDs]">
  The ids of the embeddings to delete
</ParamField>

<ParamField path="where" type="Optional[Where]">
  A Where type dict used to filter the delection by. E.g. `\{"$and": [\{"color" : "red"\}, \{"price": \{"$gte": 4.20\}]\}\}`. Optional.
</ParamField>

<ParamField path="where_document" type="Optional[Dict[Where, Union[str, List[Dict[Where, Union[str, List[WhereDocument]]]]]]]">
  A WhereDocument type dict used to filter the deletion by the document content. E.g. `\{"$contains": "hello"\}`. Optional.
</ParamField>

**Returns:** None

**Raises:**

- ValueError: If you don't provide either ids, where, or where_document


---

## Types

### GetResult

<span class="text-sm">Properties</span>

<ParamField path="ids" type="IDs" />

<ParamField path="embeddings" type="Optional[Embeddings]" />

<ParamField path="documents" type="Optional[IDs]" />

<ParamField path="uris" type="Optional[IDs]" />

<ParamField path="data" type="Optional[Optional[Embeddings]]" />

<ParamField path="metadatas" type="Optional[List[Metadata]]" />

<ParamField path="included" type="List[Literal[documents, embeddings, metadatas, distances, uris, data]]" />


### QueryResult

<span class="text-sm">Properties</span>

<ParamField path="ids" type="List[IDs]" />

<ParamField path="embeddings" type="Optional[Embeddings]" />

<ParamField path="documents" type="Optional[List[IDs]]" />

<ParamField path="uris" type="Optional[List[IDs]]" />

<ParamField path="data" type="Optional[List[Optional[Embeddings]]]" />

<ParamField path="metadatas" type="Optional[List[List[Metadata]]]" />

<ParamField path="distances" type="Optional[List[List[float]]]" />

<ParamField path="included" type="List[Literal[documents, embeddings, metadatas, distances, uris, data]]" />
